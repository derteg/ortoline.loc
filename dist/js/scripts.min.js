function heightsToMax(){return $('[data-max="parent"]').length?void $('[data-max="parent"]').each(function(){var a=$(this),b=a.find('[data-max="child"]'),c=parseInt(a.attr("data-inrow"))||b.size(),d=0,e=0,f=0;b.removeAttr("style").each(function(){var b=$(this);b.height()>d&&(d=b.height()),b.attr("data-index",f),++e,e==c&&(a.find('[data-max="child"][data-index="'+f+'"]').height(d),++f,e=0,d=0)})}):!1}function onElementHeightChange(a,b){var c,d=a.clientHeight;!function e(){c=a.clientHeight,d!=c&&b(),d=c,a.onElementHeightChangeTimer&&clearTimeout(a.onElementHeightChangeTimer),a.onElementHeightChangeTimer=setTimeout(e,0)}()}$(window).load(function(){heightsToMax()}).resize(function(){heightsToMax()}),$(function(){onElementHeightChange(document.body,function(){$(window).trigger("resize")}),$("#adressInnerMap").length&&$("#adressInnerMap").adressInnerMap(),$("#servicesMap").length&&$("#servicesMap").servicesMap(),$(".js-select").selectCustom(),$(".sl").socialLikes(),$(".js-promoslider").promoSlider(),$(".js-stock__slider").stockSlider(),$(".js-hits__slider").hitsSlider(),$(".js-product__slider-for").productSlider(),$(".js-product__news-slider").productNewsSlider(),$("#videoSliderPromo, #infoSliderPromo").promoSliderList(),$("#faqmainSlider").faqmainSlider(),$("#cardSlider").cardSlider(),$("#adressPesronGall").adressPesronGall(),$("#servicesGalleryResp").servicesGalleryResp(),$("#servicesGallery").servicesGallery(),$(".js-card__info").cardInfo(),$(".js-product__amount").amountCart(),$(".js-header_fix").headerFixed(),$(".js-info-tabs").lightTabs(),$(".js-faq__list").faqList(),$(".js-lnk_popup").contactPopup(),$(".js-product__filter_mob").productFilterMob(),$(".js-anchor__animate").anchorAnimate(),$("#searchInp").searchInp(),$("#accordionAside").accordionAside(),$("#videoSlider").videoSlider(),$("#faqAccordMob").faqAccordMob()}),function(a){function b(){function b(){function b(){var b=a(window).width(),d=a("li.current",e),g=d.data("btn-adress");b>1e3?(f.addClass("desktop"),"list"==g&&(i.css("display","inline-block"),c.container.getElement().style.width="100%",c.container.getElement().style.height="780px",c.container.fitToViewport()),"map"==g&&(a(".adress__nav-btn_lists").addClass("current"),a(".adress__nav-btn_map").removeClass("current"),h.css("display","inline-block"))):(f.removeClass("desktop"),i.css("display","none"),j.css("display","none"),"map"==g&&i.css("display","inline-block"),"sheme"==g&&(j.css("display","none"),a(".adress__nav-btn_lists").addClass("current"),h.css("display","inline-block")),c.behaviors.disable("ruler"))}function k(){var b=a(this),d=b.data("btn-adress");a("li",e).removeClass("current"),b.addClass("current"),g.css("display","none"),"map"==d&&(i.css("display","inline-block"),c.container.getElement().style.width="100%",c.container.getElement().style.height="780px",c.container.fitToViewport()),"list"==d&&(h.css("display","inline-block"),f.hasClass("desktop")&&(i.css("display","inline-block"),c.container.getElement().style.width="100%",c.container.getElement().style.height="780px",c.container.fitToViewport())),"sheme"==d&&(i.css("display","none"),h.css("display","none"),j.css("display","block"))}var l,m=a(".js-select"),n=m.siblings("ul").find("li");c=new ymaps.Map("adressMap",{center:[55.76,37.64],zoom:10,controls:[]},{autoFitToViewport:"always",suppressMapOpenBlock:!0}),jQuery.getJSON("data/adress_global.json",function(b){function d(){var d,e=new ymaps.GeoQueryResult,f=a(this).text();$selectCurrentColor=a(this).data("select-color"),d="blue"==$selectCurrentColor?"dist/img/ico_08.png":"dist/img/ico_07.png","Все станции метро"!==f?(e=storageMapObj.search('properties.metro = "'+f.toLowerCase()+'"'),e.setOptions({iconLayout:"default#image",iconImageHref:d,iconImageSize:[32,44],iconImageOffset:[0,0]}).setProperties({balloonContent:"метро: "}),l.removeAll(),e.addToMap(c)):(l.removeAll(),jQuery.each(b.features,function(a,b){var d=b.properties.color;l=c.geoObjects.add(new ymaps.Placemark(b.geometry.coordinates,{balloonContent:"метро: "+b.properties.metro+"<br/>"+b.properties.office},{iconLayout:"default#image",iconImageHref:d,iconImageSize:[32,44],iconImageOffset:[0,0]}))}))}window.storageMapObj=ymaps.geoQuery(b),jQuery.each(b.features,function(a,b){var d=b.properties.color;l=c.geoObjects.add(new ymaps.Placemark(b.geometry.coordinates,{balloonContent:"метро: "+b.properties.metro+"<br/>"+b.properties.office},{iconLayout:"default#image",iconImageHref:d,iconImageSize:[32,44],iconImageOffset:[0,0]}))}),n.click(d),h.find("> div").on("mouseenter",function(b){a(this).addClass("active")}).on("mouseleave",function(){a(this).removeClass("active")})}),a(window).resize(function(){clearTimeout(d),d=setTimeout(b,200)}),e.on("click","li:not(.current)",k)}ymaps.ready(b)}var c,d,e=a("#adressNavBtns"),f=a("#adressNavCont"),g=a("> div",f),h=f.find(".adress__tbl"),i=f.find(".adress__map"),j=f.find(".adress__sheme");a(" > div",h);a("#adressMap").length&&b()}(jQuery),function(a){a.fn.adressInnerMap=function(){function a(){e=new ymaps.Map("adressInnerMap",{center:[55.76,37.64],zoom:10,controls:[]});var a=new ymaps.GeoObjectCollection({},{iconLayout:"default#image",iconImageHref:"dist/img/ico_11.png",iconImageSize:[32,44],iconImageOffset:[0,0]});a.add(new ymaps.Placemark([+c,+d])),e.geoObjects.add(a)}var b=this,c=b.attr("data-point-lat"),d=b.attr("data-point-lon");ymaps.ready(a);var e}}(jQuery),function(a){a.fn.servicesMap=function(){function a(){e=new ymaps.Map("servicesMap",{center:[55.76,37.64],zoom:10,controls:[]});var a=new ymaps.GeoObjectCollection({},{iconLayout:"default#image",iconImageHref:"dist/img/ico_11.png",iconImageSize:[32,44],iconImageOffset:[0,0]});a.add(new ymaps.Placemark([+c,+d])),e.geoObjects.add(a)}var b=this,c=b.attr("data-point-lat"),d=b.attr("data-point-lon");ymaps.ready(a);var e}}(jQuery),function(a){a.fn.selectCustom=function(){var b=this;b.length;b.each(function(){var b=a(this),c=a(this).children("option").length;b.addClass("hidden"),b.wrap('<div class="select" />'),b.after('<div class="styledSelect"></div>');var d=b.next("div.styledSelect");d.text(b.children("option").eq(0).text());for(var e=a("<ul />",{"class":"options"}).insertAfter(d),f=0;c>f;f++)a("<li />",{text:b.children("option").eq(f).text(),"class":b.children("option").eq(f).val(),"data-select-metro":b.children("option").eq(f).attr("data-select-metro"),"data-select-color":b.children("option").eq(f).attr("data-select-color")}).appendTo(e);var g=e.children("li");d.click(function(b){b.stopPropagation(),a("styledSelect.active").each(function(){a(this).removeClass("active").next("ul.options").filter(":not(:animated)").slideUp(250)}),a(this).toggleClass("active").next("ul.options").filter(":not(:animated)").slideToggle(250)}),g.click(function(c){c.stopPropagation();var f=a(this);d.attr("data-select-metro",f.attr("data-select-metro")),d.text(a(this).text()).removeClass("active"),b.val(a(this).text().toLowerCase()),e.filter(":not(:animated)").slideUp(250)}),a(document).click(function(){d.removeClass("active"),e.filter(":not(:animated)").slideUp(250)})})}}(jQuery),function(a){a.fn.productSlider=function(){var a=this,b=a.next();a.slick({slidesToShow:1,slideToScroll:1,arrows:!1,fade:!0,speed:0,swipe:!1,asNavFor:".js-product__slider-nav",infinite:!1,responsive:[{breakpoint:768,settings:{swipe:!0,infinite:!0}}]}),b.slick({slidesToShow:5,slidesToScroll:1,centerPadding:"0px",vertical:!0,verticalSwiping:!0,asNavFor:".js-product__slider-for",centerMode:!0,focusOnSelect:!0,infinite:!1,swipe:!1,responsive:[{breakpoint:1141,settings:{arrows:!1,infinite:!0}},{breakpoint:768,settings:{slidesToShow:3,vertical:!1,verticalSwiping:!1,initialSlide:1,arrows:!1,infinite:!0}}]})}}(jQuery),function(a){a.fn.productNewsSlider=function(){var a=this;a.slick({slidesToShow:5,slideToScroll:1,swipe:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:3,swipe:!0}},{breakpoint:768,settings:{slidesToShow:2,swipe:!0}},{breakpoint:450,settings:{slidesToShow:1,swipe:!0}}]})}}(jQuery),function(a){jQuery.fn.lightTabs=function(b){var c=function(){tabs=this,i=0,showPage=function(b){a(tabs).children("div").children("div").hide(),a(tabs).children("div").children("div").eq(b).show(),a(tabs).children("ul").children("li").removeClass("active"),a(tabs).children("ul").children("li").eq(b).addClass("active")},showPage(0),a(tabs).children("ul").children("li").each(function(b,c){a(c).attr("data-page",i),i++}),a(tabs).children("ul").children("li").click(function(){showPage(parseInt(a(this).attr("data-page")))})};return this.each(c)}}(jQuery),function(a){a.fn.amountCart=function(){var b=this,c=a(".minus",b),d=a(".plus",b);c.on("click",function(b){var c=a(this),d=c.parent().find(".sum"),e=parseFloat(d.text());e>1&&(d.text(e-1),c.removeClass("disabled")),2>=e&&c.addClass("disabled")}),d.on("click",function(b){var c=a(this),d=c.parent().find(".sum"),e=parseFloat(d.text());e>=1&&(d.text(e+1),c.parent().find(".minus").removeClass("disabled"))})}}(jQuery),function(a){a.fn.promoSlider=function(){var a=this;a.slick({dots:!0,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:768,settings:{arrows:!1}}]})}}(jQuery),function(a){a.fn.stockSlider=function(){var a=this;a.slick({fade:!0,dots:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:1,arrows:!1,fade:!1,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,arrows:!1,fade:!1,dots:!0}}]})}}(jQuery),function(a){a.fn.hitsSlider=function(){var a=this;a.slick({arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:3e3})}}(jQuery),function(a){a.fn.cardInfo=function(){var b=this,c=300;b.on("click",function(b){b.preventDefault();var d=a(this).parents(".card");a(this).hasClass("active")?(d.find(".card__info").fadeOut(c),a(this).removeClass("active")):(d.find(".card__info").fadeIn(c),a(this).addClass("active"))})}}(jQuery),function(a){a.fn.headerFixed=function(){function b(){var a=d.width(),b=d.height(),g=d.scrollTop(),h=f.offset().top-b;a>=768?g>220?c.addClass("header_fix"):c.removeClass("header_fix"):(c.removeClass("header_fix"),g>=h?e.css("bottom",""+(g-h)+"px"):e.css("bottom","0"))}var c=this,d=a(window),e=a(".js-promophone_mob"),f=a("#footer");document.addEventListener("DOMContentLoaded",b),setTimeout(function(){d.trigger("resize")},100),d.scroll(b),d.resize(b),function(){var b=a(".js-mainmenu__btn-all"),c=b.parents(".mainmenu"),d=a(".js-header_fix");b.click(function(a){c.toggleClass("active"),d.toggleClass("sub-menu__active")})}()}}(jQuery),function(a){a.fn.faqList=function(){var b=this;b.on("click",function(b){var c=a(this).parent(".faq-quest__cont"),d=a(".answer",c);c.hasClass("opened")?(c.removeClass("opened"),d.slideUp()):(c.addClass("opened"),d.slideDown())})}}(jQuery),function(a){a.fn.searchInp=function(){var b=this,c=a("input",b),d=a(".js-example",b);d.click(function(a){c.val(d.text()).focus()})}}(jQuery),function(){var a=$(".js-catalogue__menu"),b=$(".js-product__category");a.click(function(a){a.preventDefault();var c=$(this),d=c.offset().top,e=c.offset().left,f=c.innerHeight();b.slideToggle(),c.parents(".header_fix").length?b.css({position:"fixed",top:$(this).parents(".header_fix").innerHeight(),left:e,"z-index":1e3,"margin-left":0}).find(".product__category-triangle").css({left:"20px"}):(b.css({position:"absolute",top:+d+f+10,left:e,zIndex:1e3,"margin-left":0}).find(".product__category-triangle").css({left:"20px"}),b.position().left+b.width()>$(window).width()&&b.css({left:"100%","margin-left":-($(window).width()-b.width()+100)}).find(".product__category-triangle").css({left:"50%"}))}),$(window).resize(function(){b.hide()})}(),function(a){a.fn.accordionAside=function(){function b(){var b=a(".js-title",c),d=b.next(".js-content");b.removeClass("active"),d.finish().slideUp(300).removeClass("open")}var c=this;a(".js-title",c).click(function(c){var d=a(this).attr("href");a(c.target).is(".active")?b():(b(),a(this).addClass("active"),a(d+".js-content").finish().slideDown(300).addClass("open")),c.preventDefault()})}}(jQuery),function(a){a.fn.videoSlider=function(){var a=this;a.slick({slidesToShow:1,slidesToScroll:1,dots:!0})}}(jQuery),function(a){a.fn.promoSliderList=function(){var a=this;a.slick({slidesToShow:4,slidesToScroll:1,infinite:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:3,arrows:!1,dots:!1,infinite:!0}},{breakpoint:768,settings:{slidesToShow:2,arrows:!1,dots:!0,infinite:!0}},{breakpoint:450,settings:{slidesToShow:1,arrows:!1,dots:!0,infinite:!0}}]})}}(jQuery),function(a){a.fn.contactPopup=function(){var b=this;b.on("click",function(b){b.preventDefault();var c=a(this).data("popup-type");"contacts"==c&&a("#contactPopup").bPopup({opacity:.2,content:"image",contentContainer:".content",loadUrl:"dist/pic/pic_51.jpg"}),"popup"==c&&a("#"+a(this).data("popup-id")).bPopup({opacity:.2}),"callback"==c&&a("#callbackPopup").bPopup({opacity:.2}),"login"==c&&a("#loginPopup").bPopup({opacity:.2})})}}(jQuery),function(a){a.fn.faqmainSlider=function(){var a=this;a.slick({slidesToShow:2,slideToScroll:1,infinite:!1,swipe:!0,arrows:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:1,swipe:!0,arrows:!0}},{breakpoint:768,settings:{slidesToShow:1,swipe:!0}}]})}}(jQuery),function(a){a.fn.cardSlider=function(){var a=this;a.slick({slidesToShow:4,slideToScroll:1,infinite:!1,swipe:!1,arrows:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:3,swipe:!0,arrows:!1}},{breakpoint:768,settings:{slidesToShow:1,swipe:!0,dots:!0}}]})}}(jQuery),function(a){a.fn.adressPesronGall=function(){var a=this;a.slick({slidesToShow:4,slideToScroll:1,infinite:!1,dots:!0,swipe:!1,arrows:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:3,swipe:!0,dots:!0,arrows:!1}},{breakpoint:768,settings:{slidesToShow:1,swipe:!0,dots:!0,infinite:!0}}]})}}(jQuery),function(a){a.fn.servicesGalleryResp=function(){var a=this;a.slick({slidesToShow:7,slideToScroll:1,infinite:!1,swipe:!1,arrows:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:5,swipe:!0,dots:!0,arrows:!1}},{breakpoint:768,settings:{slidesToShow:1,swipe:!0,dots:!0,infinite:!0,adaptiveHeight:!0}}]})}}(jQuery),function(a){a.fn.servicesGallery=function(){var a=this;a.slick({slidesToShow:4,slideToScroll:1,infinite:!1,swipe:!1,arrows:!1,responsive:[{breakpoint:1141,settings:{slidesToShow:3,swipe:!0,dots:!0,arrows:!1,adaptiveHeight:!0}},{breakpoint:768,settings:{slidesToShow:1,slideToScroll:1,swipe:!0,dots:!0,infinite:!0,adaptiveHeight:!0}}]})}}(jQuery),function(a){a.fn.faqAccordMob=function(){var b=this,c=a(".js-faq__btn-accord",b);c.click(function(){var c=a(".js-faq_block-mob",b);c.toggleClass("active")})}}(jQuery),function(a){a.fn.productFilterMob=function(){var a=this,b=a.parents(".product__filter_mob").next();a.click(function(){b.toggleClass("active")})}}(jQuery),function(a){a.fn.anchorAnimate=function(){function b(){var b=a(window).width();d=b>768?a(".js-header_fix").height():0}var c,d,e=this;a(window).load(b),a(window).resize(function(){clearTimeout(c),c=setTimeout(b,500)}),e.click(function(b){var c=a(this).attr("href");a("body").animate({scrollTop:a(c).offset().top-d},400)})}}(jQuery);